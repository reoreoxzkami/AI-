<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#2e6cff" />
    <meta name="description" content="ブラウザで画像を編集できるPWA対応アプリ" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="icon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="styles.css" />
    <title>PhotoFlow - 画像編集アプリ</title>
  </head>
  <body>
    <main class="app">
      <header class="app-header">
        <div>
          <h1>PhotoFlow</h1>
          <p>ブラウザだけで使える本格画像編集アプリ（PWA対応）</p>
        </div>
        <button id="installApp" class="secondary" type="button" hidden>アプリをインストール</button>
      </header>

      <section class="controls">
        <div class="upload-row">
          <label class="file-input">
            画像を選択
            <input type="file" id="upload" accept="image/*" />
          </label>
          <span class="hint">またはキャンバスにドラッグ&ドロップ</span>
        </div>

        <div class="preset-row">
          <span>プリセット:</span>
          <button class="preset" data-preset="vivid" type="button">Vivid</button>
          <button class="preset" data-preset="mono" type="button">Mono</button>
          <button class="preset" data-preset="warm" type="button">Warm</button>
          <button class="preset" data-preset="cool" type="button">Cool</button>
          <button class="preset" data-preset="cinematic" type="button">Cinematic</button>
        </div>

        <div class="slider-group">
          <label>明るさ <span id="brightnessValue">100</span>%
            <input type="range" id="brightness" min="0" max="200" value="100" />
          </label>
          <label>コントラスト <span id="contrastValue">100</span>%
            <input type="range" id="contrast" min="0" max="200" value="100" />
          </label>
          <label>ぼかし <span id="blurValue">0</span>px
            <input type="range" id="blur" min="0" max="10" value="0" />
          </label>
          <label>グレースケール <span id="grayscaleValue">0</span>%
            <input type="range" id="grayscale" min="0" max="100" value="0" />
          </label>
          <label>彩度 <span id="saturateValue">100</span>%
            <input type="range" id="saturate" min="0" max="250" value="100" />
          </label>
          <label>色相回転 <span id="hueRotateValue">0</span>°
            <input type="range" id="hueRotate" min="0" max="360" value="0" />
          </label>
          <label>セピア <span id="sepiaValue">0</span>%
            <input type="range" id="sepia" min="0" max="100" value="0" />
          </label>
          <label>反転 <span id="invertValue">0</span>%
            <input type="range" id="invert" min="0" max="100" value="0" />
          </label>
        </div>

        <div class="button-row">
          <button id="undo" type="button">↶ Undo</button>
          <button id="redo" type="button">↷ Redo</button>
          <button id="compare" type="button">比較表示(押している間)</button>
          <button id="rotateLeft" type="button">↺ 左回転</button>
          <button id="rotateRight" type="button">↻ 右回転</button>
          <button id="flipHorizontal" type="button">↔ 横反転</button>
          <button id="flipVertical" type="button">↕ 縦反転</button>
          <button id="reset" type="button">リセット</button>
          <button id="download" type="button">PNG保存</button>
          <button id="downloadJpeg" type="button">JPEG保存</button>
        </div>

        <p class="shortcut">ショートカット: <kbd>Ctrl/Cmd+Z</kbd> Undo / <kbd>Ctrl/Cmd+Shift+Z</kbd> Redo / <kbd>R</kbd> 右回転 / <kbd>F</kbd> 横反転</p>
      </section>

      <section class="editor" aria-live="polite">
        <canvas id="canvas" width="900" height="520" aria-label="編集プレビュー"></canvas>
      </section>

      <footer class="status-bar">
        <span id="statusText">準備完了</span>
      </footer>
    </main>

    <script src="app.js"></script>
  </body>
</html>
